<chef-modal [visible]="visible" (closeModal)="closeCreateModal()">
  <h2 slot="title">Create Role</h2>
    <div class="flex-container">
      <mat-horizontal-stepper [linear]="false" #stepper labelPosition="bottom">
        <mat-step [stepControl]="firstFormGroup" (click)="$event.stopPropagation()">
          <form [formGroup]="firstFormGroup">
            <ng-template matStepLabel>Basic</ng-template>
            <div class="input-margin">
              <chef-form-field>
                <label>
                  <span class="label">Name <span aria-hidden="true">*</span></span>
                  <input chefInput formControlName="name" type="text" id="name-input" (keyup)="handleInput($event)" autocomplete="off"/>
                </label>
                <chef-error
                  *ngIf="(firstFormGroup.get('name').hasError('required') || firstFormGroup.get('name').hasError('pattern')) && firstFormGroup.get('name').dirty">
                  Display Name is required.
                </chef-error>
              </chef-form-field>
            </div>
            <div class="input-margin">
              <chef-form-field>
                <label>
                  <span class="label">Description <span aria-hidden="true">*</span></span>
                  <textarea chefInput name="description" id="description" formControlName="description" autofocus></textarea>
                </label>
                <chef-error
                  *ngIf="(firstFormGroup.get('description').hasError('required') || firstFormGroup.get('description').hasError('pattern')) && firstFormGroup.get('description').dirty">
                  Description is required.
                </chef-error>
              </chef-form-field>
            </div>
            <div class="button-bar-box">
              <chef-button tertiary (click)="closeCreateModal()">Cancel</chef-button>
              <button chef-button mat-button matStepperPrevious primary class="primary" disabled>Privious</button>
              <button chef-button mat-button matStepperNext primary class="primary" [disabled]="!firstFormGroup?.valid">Next</button>
              <chef-button [disabled]="!firstFormGroup?.valid || conflictError"  primary id="create-button-object-modal">
                <!-- <chef-loading-spinner *ngIf="creating"></chef-loading-spinner> -->
                <span>Create Role</span>
                <!-- <span *ngIf="creating">Creating Notification...</span> -->
              </chef-button>
            </div>
          </form>
        </mat-step>
        <!-- Second step -->
        <mat-step [stepControl]="secondFormGroup" label="RunList">
          <form [formGroup]="secondFormGroup">
            
            <div class="button-bar-box">
              <chef-button tertiary (click)="closeCreateModal()">Cancel</chef-button>
              <button chef-button mat-button matStepperPrevious primary class="primary">Privious</button>
              <button chef-button mat-button matStepperNext primary class="primary" [disabled]="!secondFormGroup?.valid">Next</button>
              <chef-button [disabled]="!firstFormGroup?.valid || conflictError"  primary id="create-button-object-modal">
                <!-- <chef-loading-spinner *ngIf="creating"></chef-loading-spinner> -->
                <span>Create Role</span>
                <!-- <span *ngIf="creating">Creating Notification...</span> -->
              </chef-button>
            </div>
          </form>
        </mat-step>
        <!-- Third step -->
        <mat-step [stepControl]="thirdFormGroup" label="Default attributes">
          <form [formGroup]="thirdFormGroup">
            
            <div class="button-bar-box">
              <chef-button tertiary (click)="closeCreateModal()">Cancel</chef-button>
              <button chef-button mat-button matStepperPrevious primary class="primary">Privious</button>
              <button chef-button mat-button matStepperNext primary class="primary" [disabled]="!thirdFormGroup?.valid">Next</button>
              <chef-button [disabled]="!firstFormGroup?.valid || conflictError"  primary id="create-button-object-modal">
                <!-- <chef-loading-spinner *ngIf="creating"></chef-loading-spinner> -->
                <span>Create Role</span>
                <!-- <span *ngIf="creating">Creating Notification...</span> -->
              </chef-button>
            </div>
          </form>
        </mat-step>
        <mat-step>
          <ng-template matStepLabel>Done</ng-template>
          <div class="button-bar-box">
            <chef-button tertiary (click)="closeCreateModal()">Cancel</chef-button>
            <button chef-button mat-button matStepperPrevious primary class="primary">Privious</button>
            <button chef-button mat-button matStepperNext primary class="primary" disabled>Next</button>
            <chef-button [disabled]="!firstFormGroup?.valid || conflictError"  primary id="create-button-object-modal">
              <!-- <chef-loading-spinner *ngIf="creating"></chef-loading-spinner> -->
              <span>Create Role</span>
              <!-- <span *ngIf="creating">Creating Notification...</span> -->
            </chef-button>
          </div>
        </mat-step>
      </mat-horizontal-stepper>
      
     </div> 
</chef-modal>
